<div class="container">
    <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
        <div *ngIf = "info$.visaType == 'opt-receipt' && info$.active == 'yes'" class="shadow p-4 mb-4 bg-white">
            <!--<form action="/action_page.php">
                <label for="myfile">Please upload a copy of your OPT (STEM) EAD</label>
                <input type="file" id="opt" name="opt"><br>
                <input type="submit">
            </form>-->
            <label>Please upload a copy of your OPT (STEM) EAD</label><br>
            <!--<input type="file" id="customFile" (change)="selectFile($event)">
            <button class="btn btn-primary" [disabled]="!selectedFiles || admincheck || status" (click)="upload()">Upload</button>
            <button class="btn btn-primary" style="margin-left: 10px" (click)="downloadFile()">View File</button>-->
            <div *ngFor="let progressInfo of progressInfos" class="mb-2">
                <span>{{ progressInfo.fileName }}</span>
                <div class="progress">
                  <div
                    class="progress-bar progress-bar-info progress-bar-striped"
                    role="progressbar"
                    attr.aria-valuenow="{{ progressInfo.value }}"
                    aria-valuemin="0"
                    aria-valuemax="100"
                    [ngStyle]="{ width: progressInfo.value + '%' }"
                  >
                    {{ progressInfo.value }}%
                  </div>
                </div>
              </div>
              
              <label class="btn btn-default">
                <input type="file" multiple (change)="selectFiles($event)" />
              </label>
              
              <button
                class="btn btn-success"
                [disabled]="!selectedFiles"
                (click)="uploadFiles()"
              >
                Upload
              </button>
              
              <div class="alert alert-light" role="alert">{{ message }}</div>
              
              <div class="card">
                <div class="card-header">List of Files</div>
                <ul
                  class="list-group list-group-flush"
                  *ngFor="let file of fileInfos | async"
                >
                  <li class="list-group-item">
                    <a href="{{ file.url }}">{{ file.name }}</a>
                  </li>
                </ul>
              </div>

            
        </div>

        <div *ngIf = "info$.visaType == 'opt-ead' && info$.active == 'yes'" class="shadow p-4 mb-4 bg-white">
            <!--<form action="/action_page.php">
                <label>Please download and fill your I-983 form</label>
                <br>
                <a href="./I-893.txt" download>I-983</a>
                <br><br>
                <input type="file" id="i-983" name="i-983"><br>
                <input type="submit">
            </form>-->
        </div>

        <div *ngIf = "info$.visaType == 'i-983-wait' && info$.active == 'yes'" class="shadow p-4 mb-4 bg-white">
            <label>Waiting for HR to approve and sign I-983</label>
        </div>

        <div *ngIf = "info$.visaType == 'i-983-signed' && info$.active == 'yes'" class="shadow p-4 mb-4 bg-white">
            <form action="/action_page.php">
                <label>Please send the I-983 with all necessary documents to your school and upload the new I-20</label>
                <input type="file" id="i-20" name="i-20"><br>
                <input type="submit">
            </form>
        </div>

        <div *ngIf = "info$.visaType == 'i-20' && info$.active == 'yes'" class="shadow p-4 mb-4 bg-white">
            <form action="/action_page.php">
                <label>Please upload your OPT STEM Receipt</label>
                <input type="file" id="opt-receipt" name="opt-receipt"><br>
                <input type="submit">
            </form>
        </div>

        <div *ngIf = "info$.visaType == 'opt-stem' && info$.active == 'yes'" class="shadow p-4 mb-4 bg-white">
            <form action="/action_page.php">
                <label>Please upload your OPT STEM EAD</label>
                <input type="file" id="opt-ead" name="opt-ead"><br>
                <input type="submit">
            </form>
        </div>
    </div>
</div>
